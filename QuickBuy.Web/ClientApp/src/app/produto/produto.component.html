<h1 class="h4 titulo">Cadastro de produto</h1>

<form>
  <label for="inputNome" class="sr-only">Nome</label>
  <input type="text" id="inputNome" name="nome" placeholder="Nome do produto" required
         class="form-control mb-2 col-md-6"
         #nome="ngModel" [(ngModel)]="produto.nome" [ngClass]="{
          'is-invalid': nome.invalid && (nome.dirty || nome.touched),
          'is-valid': nome.valid && (nome.dirty || nome.touched)
         }" />
  <div class="invalid-feedback mb-2" *ngIf="nome.invalid && (nome.dirty || nome.touched)">
    <div *ngIf="nome.errors.required">
      Campo nome obrigatorio!
    </div>
  </div>

  <label for="inputDescricao" class="sr-only">Descição</label>
  <input type="text" id="inputDescricao" name="descricao" placeholder="Descrição do produto" required
         class="form-control mb-2 col-md-6"
         #descricao="ngModel" [(ngModel)]="produto.descricao" [ngClass]="{
          'is-invalid': descricao.invalid && (descricao.dirty || descricao.touched),
          'is-valid': descricao.valid && (descricao.dirty || descricao.touched)
         }" />
  <div class="invalid-feedback mb-2" *ngIf="descricao.invalid && (descricao.dirty || descricao.touched)">
    <div *ngIf="descricao.errors.required">
      Campo descrição obrigatorio!
    </div>
  </div>

  <label for="inputPreco" class="sr-only">Preço</label>
  <input type="number" id="inputPreco" name="preco" placeholder="Preço do produto" required
         class="form-control mb-2 col-md-6"
         #preco="ngModel" [(ngModel)]="produto.preco" [ngClass]="{
          'is-invalid': preco.invalid && (preco.dirty || preco.touched),
          'is-valid': preco.valid && (preco.dirty || preco.touched)
         }" />
  <div class="invalid-feedback mb-2" *ngIf="preco.invalid && (preco.dirty || preco.touched)">
    <div *ngIf="preco.errors.required">
      Campo de preço obrigatorio!
    </div>
  </div>

  <div class="custom-file col-md-6 mb-2">
    <label class="custom-file-label" for="inputArquivo">Choose file</label>
    <input type="file" id="inputArquivo"
           class="custom-file-input"
           (change)="inputChange($event.target.files)" />
  </div>

  <button class="btn btn-primary btn-block col-md-6 mb-2" (click)="cadastrar()" [disabled]="ativar_spinner">
    <span class="spinner-border spinner-border-sm" *ngIf="ativar_spinner"></span>
    Cadastrar
  </button>

  <div class="alert alert-danger col-md-6" *ngIf="mensagem">
    {{ mensagem }}
  </div>
</form>
